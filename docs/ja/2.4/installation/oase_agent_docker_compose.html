
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>3. OASE Agent (Docker Compose) &#8212; Documentation  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/option.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exastro_documents.css" />
    <link rel="stylesheet" type="text/css" href="../_static/swagger/swagger-ui.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script src="../_static/jquery-3.6.3.min.js"></script>
    <script src="../_static/exastro_documents.js"></script>
    <script src="../_static/swagger/swagger-ui-bundle.js"></script>
    <script src="../_static/swagger/swagger-ui-standalone-preset.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="4. OASE Agent (Kubernetes)" href="oase_agent_kubernetes.html" />
    <link rel="prev" title="2. Helm chart (Kubernetes)" href="helm_on_kubernetes.html" /> 
  </head>
<body id="page" class="ja">


<div id="container">

<div id="header">
  <header class="divInner">
    <!-- Exastro logo -->
    <div id="logo"><a href="https://ita.exastro.org/"><img src="../_static/img/exastro.svg" alt="Exastro"></a></div>
    <!-- Project name -->
    <div id="projectName"><a href="../index.html">Documentation</a></div>
    <!-- Heaedr navigation -->
    <div id="headerSearch">
      <form class="search" action="../search.html" method="get">
        <input type="text" name="q" aria-labelledby="searchlabel">
        <button type="submit" value="検索"><img src="../_static/img/search.png" alt="検索"></button>
      </form>
    </div>
  </header>
</div><!-- End #header -->


<div id="toolbar">
  <div class="divInner">
    
    <div id="documentVersion">
      <dl>
        <dt>Document version</dt>
        <dd>
          <div>
            <select name="version" onchange="location.href=value;">
              <option value="../../../ja/2.4/installation/oase_agent_docker_compose.html" selected>current</option>
              <option value="../../../ja/2.4/installation/oase_agent_docker_compose.html" selected>2.4(current)</option>
              <option value="../../../ja/2.3/installation/oase_agent_docker_compose.html">2.3</option>
              <option value="../../../ja/2.2/installation/oase_agent_docker_compose.html">2.2</option>
              <option value="../../../ja/2.1/installation/oase_agent_docker_compose.html">2.1</option>
              <option value="../../../ja/2.0/installation/oase_agent_docker_compose.html">2.0</option>
            </select>
          </div>
        </dd>
      </dl>
    </div>

    <div id="documentLanguage">
      <dl>
        <dt>Language</dt>
        <dd>
          <div>
            <select name="lang" onchange="location.href=value;">
              <option value="../../../ja/2.4/installation/oase_agent_docker_compose.html" selected>日本語</option>
              <option value="../../../en/2.4/installation/oase_agent_docker_compose.html">English</option>
            </select>
          </div>
        </dd>
      </dl>
    </div>
    <div id="toolbarNavigation">
      <ul>
        <li class="prev"><a href="helm_on_kubernetes.html" title="前のトピックへ"><span class="section-number">2. </span>Helm chart (Kubernetes)</a></li>
        <li class="next"><a href="oase_agent_kubernetes.html" title="次のトピックへ"><span class="section-number">4. </span>OASE Agent (Kubernetes)</a></li>
      </ul>
    </div>
  </div>
</div><!-- End #toolbar -->

<div id="sideMenu">

  <div id="menuButton"></div>
  
  <aside class="divInner">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">構成・構築ガイド</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">インストール</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="docker_compose_online.html">1. Docker Compose - Online</a></li>
<li class="toctree-l2"><a class="reference internal" href="helm_on_kubernetes.html">2. Helm chart (Kubernetes)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3. OASE Agent (Docker Compose)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">3.1. 目的</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">3.2. 特徴</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">3.3. 前提条件</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">3.4. インストール</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">3.4.1. 準備</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">3.4.2. 起動</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id7">3.5. パラメータ一覧</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">3.6. アップグレード</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">3.6.1. アップグレードの準備</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id10">3.6.1.1. リポジトリの更新</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id11">3.6.1.2. デフォルト設定値の更新の確認</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id12">3.6.1.3. 設定値の更新</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id13">3.6.2. アップグレード</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id14">3.6.2.1. アップグレード実施</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id15">3.7. アンインストール</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id16">3.7.1. アンインストールの準備</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">3.7.2. アンインストール</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id18">3.7.2.1. アンインストール実施</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="oase_agent_kubernetes.html">4. OASE Agent (Kubernetes)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../learn/index.html">Learn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manuals/index.html">マニュアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../templates/index.html">テンプレート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">リファレンス</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">貢献</a></li>
</ul>

    <!-- <ul>
      <li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">索引</a></li>
    </ul> -->
    
  </aside>
</div><!-- End #sideMenu -->


<div id="tableOfContents">
  <div id="tocButton"></div>
  <ul>
<li><a class="reference internal" href="#">3. OASE Agent (Docker Compose)</a><ul>
<li><a class="reference internal" href="#id1">3.1. 目的</a></li>
<li><a class="reference internal" href="#id2">3.2. 特徴</a></li>
<li><a class="reference internal" href="#id3">3.3. 前提条件</a></li>
<li><a class="reference internal" href="#id4">3.4. インストール</a><ul>
<li><a class="reference internal" href="#id5">3.4.1. 準備</a></li>
<li><a class="reference internal" href="#id6">3.4.2. 起動</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">3.5. パラメータ一覧</a></li>
<li><a class="reference internal" href="#id8">3.6. アップグレード</a><ul>
<li><a class="reference internal" href="#id9">3.6.1. アップグレードの準備</a><ul>
<li><a class="reference internal" href="#id10">3.6.1.1. リポジトリの更新</a></li>
<li><a class="reference internal" href="#id11">3.6.1.2. デフォルト設定値の更新の確認</a></li>
<li><a class="reference internal" href="#id12">3.6.1.3. 設定値の更新</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id13">3.6.2. アップグレード</a><ul>
<li><a class="reference internal" href="#id14">3.6.2.1. アップグレード実施</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id15">3.7. アンインストール</a><ul>
<li><a class="reference internal" href="#id16">3.7.1. アンインストールの準備</a></li>
<li><a class="reference internal" href="#id17">3.7.2. アンインストール</a><ul>
<li><a class="reference internal" href="#id18">3.7.2.1. アンインストール実施</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>


<div id="contents">
<main class="divInner">

 <div id="breadcrumbs">
  <ul>
    <li><a href="../index.html">HOME</a></li>
    <li><a href="index.html">インストール</a></li>
    
    <li><span class="section-number">3. </span>OASE Agent (Docker Compose)</li>
  </ul>
</div>

<div id="article">
<article class="divInner">
<div class="body" role="main">

  <script>
$(window).on('load', function () {
   setTimeout(function(){
     for (var i = 0; i < $("table.filter-table").length; i++) {
       $("[id^='ft-data-" + i + "-2-r']").removeAttr("checked");
       $("[id^='select-all-" + i + "-2']").removeAttr("checked");
       $("[id^='ft-data-" + i + "-2-r'][value^='可']").prop('checked', true);
       $("[id^='ft-data-" + i + "-2-r'][value*='必須']").prop('checked', true);
       tFilterGo(i);
     }
   },200);
});
</script><section id="oase-agent-docker-compose">
<span id="oase-agent-docker-compose-install"></span><h1><span class="section-number">3. </span>OASE Agent (Docker Compose)<a class="headerlink" href="#oase-agent-docker-compose" title="この見出しへのパーマリンク">¶</a></h1>
<section id="id1">
<h2><span class="section-number">3.1. </span>目的<a class="headerlink" href="#id1" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">本書では、Exastro IT AutomationにおいてOASEを利用する際に、外部との連携に必要となる、Exastro OASE Agentを導入する手順について説明します。</div>
</div>
</section>
<section id="id2">
<h2><span class="section-number">3.2. </span>特徴<a class="headerlink" href="#id2" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">OASEを利用するための絶対条件である、Exastro OASE Agentの導入方法となります。</div>
<div class="line">Docker Compose を利用することで、Exastro OASE Agentを簡単に起動することが可能です。</div>
<div class="line">Exastro OASE Agentの設定や運用については、<a class="reference internal" href="../manuals/oase/oase_management.html#agent-about"><span class="std std-ref">エージェント概要</span></a> をご参照ください。</div>
</div>
</section>
<section id="id3">
<h2><span class="section-number">3.3. </span>前提条件<a class="headerlink" href="#id3" title="この見出しへのパーマリンク">¶</a></h2>
<ul>
<li><p>Exastro IT Automationについて</p>
<div class="line-block">
<div class="line">Exastro OASE Agentの運用には、Exastro OASE AgentとExastro IT Automationのバージョンが一致している必要があります。</div>
</div>
</li>
<li><p>デプロイ環境</p>
<div class="line-block">
<div class="line">動作確認が取れているコンテナ環境の最小要求リソースとバージョンは下記のとおりです。</div>
</div>
<table class="docutils align-default" id="id19">
<caption><span class="caption-number">表 3.1 </span><span class="caption-text">ハードウェア要件(最小構成)</span><a class="headerlink" href="#id19" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>リソース種別</p></th>
<th class="head"><p>要求リソース</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CPU</p></td>
<td><p>2 Cores (3.0 GHz, x86_64)</p></td>
</tr>
<tr class="row-odd"><td><p>Memory</p></td>
<td><p>4GB</p></td>
</tr>
<tr class="row-even"><td><p>Storage (Container image size)</p></td>
<td><p>10GB</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>動作確認済みオペレーティングシステム</p>
<p>以下は、動作確認済のバージョンとなります。</p>
<table class="docutils align-default" id="id20">
<caption><span class="caption-number">表 3.2 </span><span class="caption-text">オペレーティングシステム</span><a class="headerlink" href="#id20" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>種別</p></th>
<th class="head"><p>バージョン</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Red Hat Enterprise Linux</p></td>
<td><p>バージョン    8</p></td>
</tr>
<tr class="row-odd"><td><p>AlmaLinux</p></td>
<td><p>バージョン    8</p></td>
</tr>
<tr class="row-even"><td><p>Ubuntu</p></td>
<td><p>バージョン    22.04</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>動作確認済みコンテナプラットフォーム</p>
<p>手動でインストールする際には、下記のコンテナプラットフォームを準備してください。
以下は、動作確認済のバージョンとなります。</p>
<table class="docutils align-default" id="id21">
<caption><span class="caption-number">表 3.3 </span><span class="caption-text">コンテナプラットフォーム</span><a class="headerlink" href="#id21" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col style="width: 66.7%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ソフトウェア</p></th>
<th class="head"><p>バージョン</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Podman Engine ※Podman 利用時</p></td>
<td><p>バージョン    4.4</p></td>
</tr>
<tr class="row-odd"><td><p>Docker Compose ※Podman 利用時</p></td>
<td><p>バージョン    2.20</p></td>
</tr>
<tr class="row-even"><td><p>Docker Engine ※Docker 利用時</p></td>
<td><p>バージョン    24</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>アプリケーション</p>
<div class="line-block">
<div class="line"><strong class="command">sudo</strong> コマンドが実行できる必要があります。</div>
</div>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<div class="line-block">
<div class="line">Exastro OASE Agent のプロセスは一般ユーザ権限で起動する必要があります。(rootユーザーでのインストールはできません)</div>
<div class="line">また、利用する一般ユーザは sudoer で、全操作権限を持っている必要があります。</div>
</div>
</div>
</section>
<section id="id4">
<h2><span class="section-number">3.4. </span>インストール<a class="headerlink" href="#id4" title="この見出しへのパーマリンク">¶</a></h2>
<section id="id5">
<h3><span class="section-number">3.4.1. </span>準備<a class="headerlink" href="#id5" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">はじめに、各種構成ファイルを取得します。docker-compose.ymlなどの起動に必要なファイル群を取得します。</div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/exastro-suite/exastro-docker-compose.git
</pre></div>
</div>
<div class="line-block">
<div class="line">以降は、exastro-docker-compose/ita_ag_oaseディレクトリで作業をします。</div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>exastro-docker-compose/ita-ag-oase
</pre></div>
</div>
<div class="line-block">
<div class="line">環境変数の設定ファイル（.env）を、サンプルから作成します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-number">リスト 3.1 </span><span class="caption-text">（Docker利用時）サンプルからコピー</span><a class="headerlink" href="#id22" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>.env.docker.sample<span class="w"> </span>.env
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-number">リスト 3.2 </span><span class="caption-text">（Podman利用時）サンプルからコピー</span><a class="headerlink" href="#id23" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>.env.podman.sample<span class="w"> </span>.env
</pre></div>
</div>
</div>
<div class="line-block">
<div class="line">末尾のパラメータ一覧を参考に、起動に必要な情報を .env に登録します。</div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>vi<span class="w"> </span>.env
</pre></div>
</div>
</section>
<section id="id6">
<h3><span class="section-number">3.4.2. </span>起動<a class="headerlink" href="#id6" title="この見出しへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">docker もしくは docker-compose コマンドを使いコンテナを起動します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-number">リスト 3.3 </span><span class="caption-text">docker コマンドを利用する場合(Docker環境)</span><a class="headerlink" href="#id24" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--wait
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-number">リスト 3.4 </span><span class="caption-text">docker-compose コマンドを利用する場合(Podman環境)</span><a class="headerlink" href="#id25" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--wait
</pre></div>
</div>
</div>
</section>
</section>
<section id="id7">
<h2><span class="section-number">3.5. </span>パラメータ一覧<a class="headerlink" href="#id7" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">Exastro OASE Agentの仕様と一部のパラメータの関連については、<a class="reference internal" href="../manuals/oase/oase_management.html#oase-agent-flow"><span class="std std-ref">OASE Agentの処理フローと.envの設定値</span></a> にて説明しています。</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 27.8%" />
<col style="width: 38.9%" />
<col style="width: 5.6%" />
<col style="width: 27.8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>説明</p></th>
<th class="head"><p>変更</p></th>
<th class="head"><p>デフォルト値・選択可能な設定値</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NETWORK_ID</p></td>
<td><p>OASE エージェント で利用する Docker ネットワークのID</p></td>
<td><p>可</p></td>
<td><p>20230101</p></td>
</tr>
<tr class="row-odd"><td><p>LOGGING_MAX_SIZE</p></td>
<td><p>コンテナ毎のログファイルの1ファイルあたりのファイルサイズ</p></td>
<td><p>可</p></td>
<td><p>10m</p></td>
</tr>
<tr class="row-even"><td><p>LOGGING_MAX_FILE</p></td>
<td><p>コンテナ毎のログファイルの世代数</p></td>
<td><p>可</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>TZ</p></td>
<td><p>OASE エージェント システムで使用するタイムゾーン</p></td>
<td><p>可</p></td>
<td><p>Asia/Tokyo</p></td>
</tr>
<tr class="row-even"><td><p>DEFAULT_LANGUAGE</p></td>
<td><p>OASE エージェント システムで使用する規定の言語</p></td>
<td><p>可</p></td>
<td><p>ja</p></td>
</tr>
<tr class="row-odd"><td><p>LANGUAGE</p></td>
<td><p>OASE エージェント システムで使用する言語</p></td>
<td><p>可</p></td>
<td><p>en</p></td>
</tr>
<tr class="row-even"><td><p>ITA_VERSION</p></td>
<td><p>OASE エージェント のバージョン</p></td>
<td><p>可</p></td>
<td><p>2.3.0</p></td>
</tr>
<tr class="row-odd"><td><p>UID</p></td>
<td><p>OASE エージェント の実行ユーザ</p></td>
<td><p>不要</p></td>
<td><p>1000 (デフォルト): Docker 利用の場合</p>
<p>0: Podman 利用の場合</p>
</td>
</tr>
<tr class="row-even"><td><p>HOST_DOCKER_GID</p></td>
<td><p>ホスト上の Docker のグループID</p></td>
<td><p>不要</p></td>
<td><p>999: Docker 利用の場合</p>
<p>0: Podman 利用の場合</p>
</td>
</tr>
<tr class="row-odd"><td><p>AGENT_NAME</p></td>
<td><p>起動する OASEエージェントの名前</p></td>
<td><p>可</p></td>
<td><p>ita-oase-agent-01</p></td>
</tr>
<tr class="row-even"><td><p>EXASTRO_URL</p></td>
<td><p>Exastro IT Automation の Service URL</p></td>
<td><p>可</p></td>
<td><p><a class="reference external" href="http://localhost:30080">http://localhost:30080</a></p></td>
</tr>
<tr class="row-odd"><td><p>EXASTRO_ORGANIZATION_ID</p></td>
<td><p>Exastro IT Automation で作成した OrganizationID</p></td>
<td><p>必須</p></td>
<td><p>無し</p></td>
</tr>
<tr class="row-even"><td><p>EXASTRO_WORKSPACE_ID</p></td>
<td><p>Exastro IT Automation で作成した WorkspaceID</p></td>
<td><p>必須</p></td>
<td><p>無し</p></td>
</tr>
<tr class="row-odd"><td><p>EXASTRO_USERNAME</p></td>
<td><p>Exastro IT Automation で作成した ユーザー名</p>
<p>※ユーザーのロールが、OASE - イベント - イベント履歴メニューをメンテナンス可能である必要があります。</p>
</td>
<td><p>可</p></td>
<td><p>admin</p></td>
</tr>
<tr class="row-even"><td><p>EXASTRO_PASSWORD</p></td>
<td><p>Exastro IT Automation で作成した パスワード</p></td>
<td><p>可</p></td>
<td><p><a class="reference external" href="mailto:Ch&#37;&#52;&#48;ngeMe">Ch<span>&#64;</span>ngeMe</a></p></td>
</tr>
<tr class="row-odd"><td><p>EVENT_COLLECTION_SETTINGS_NAMES</p></td>
<td><p>Exastro IT Automation のOASE管理 エージェント で作成した イベント収集設定名</p></td>
<td><p>必須</p></td>
<td><p>無し※カンマ区切りで複数指定可能</p></td>
</tr>
<tr class="row-even"><td><p>ITERATION</p></td>
<td><p>OASE エージェント が設定を初期化するまでの、処理の繰り返し数</p></td>
<td><p>可</p></td>
<td><p>10（下限値: 10）</p></td>
</tr>
<tr class="row-odd"><td><p>EXECUTE_INTERVAL</p></td>
<td><p>OASE エージェント のデータ収集処理の実行間隔</p></td>
<td><p>可</p></td>
<td><p>5（下限値: 3）</p></td>
</tr>
<tr class="row-even"><td><p>LOG_LEVEL</p></td>
<td><p>OASE エージェント のログレベル</p></td>
<td><p>可</p></td>
<td><p>INFO</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id8">
<h2><span class="section-number">3.6. </span>アップグレード<a class="headerlink" href="#id8" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">Exastro OASE Agentのアップグレード方法について紹介します。</div>
</div>
<section id="id9">
<h3><span class="section-number">3.6.1. </span>アップグレードの準備<a class="headerlink" href="#id9" title="この見出しへのパーマリンク">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<div class="line-block">
<div class="line">アップグレード実施前に、バックアップを取得しておくことを推奨します。</div>
<div class="line">バックアップ対象は <code class="file docutils literal notranslate"><span class="pre">~/exastro-docker-compose/ita_ag_oase/.volumes/</span></code> です。</div>
</div>
</div>
<section id="id10">
<h4><span class="section-number">3.6.1.1. </span>リポジトリの更新<a class="headerlink" href="#id10" title="この見出しへのパーマリンク">¶</a></h4>
<div class="line-block">
<div class="line">exastro-docker-composeリポジトリを更新します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-number">リスト 3.5 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id26" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># exastro-docker-composeリポジトリの確認</span>
<span class="linenos">2</span><span class="nb">cd</span><span class="w"> </span>~/exastro-docker-compose/ita_ag_oase
<span class="linenos">3</span>git<span class="w"> </span>pull
</pre></div>
</div>
</div>
</section>
<section id="id11">
<h4><span class="section-number">3.6.1.2. </span>デフォルト設定値の更新の確認<a class="headerlink" href="#id11" title="この見出しへのパーマリンク">¶</a></h4>
<div class="line-block">
<div class="line">デフォルト値の更新を確認します。</div>
<div class="line">インストール時に作成した設定ファイル <code class="file docutils literal notranslate"><span class="pre">~/exastro-docker-compose/.env</span></code> とアップグレード後の設定ファイルを比較します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-number">リスト 3.6 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id27" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>~/exastro-docker-compose/ita_ag_oase

<span class="c1"># OSがAlmaLinuxまたはUbuntuの場合</span>
diff<span class="w"> </span>.env<span class="w"> </span>.env.docker.sample
<span class="c1"># OSがRed Hat Enterprise Linuxの場合</span>
diff<span class="w"> </span>.env<span class="w"> </span>.env.podman.sample
</pre></div>
</div>
</div>
</section>
<section id="id12">
<h4><span class="section-number">3.6.1.3. </span>設定値の更新<a class="headerlink" href="#id12" title="この見出しへのパーマリンク">¶</a></h4>
<div class="line-block">
<div class="line">デフォルト設定値の比較結果から、項目の追加などにより設定値の追加が必要な場合は更新をしてください。</div>
<div class="line">設定値の更新が不要であればこの手順はスキップしてください。</div>
</div>
</section>
</section>
<section id="id13">
<h3><span class="section-number">3.6.2. </span>アップグレード<a class="headerlink" href="#id13" title="この見出しへのパーマリンク">¶</a></h3>
<section id="id14">
<h4><span class="section-number">3.6.2.1. </span>アップグレード実施<a class="headerlink" href="#id14" title="この見出しへのパーマリンク">¶</a></h4>
<div class="line-block">
<div class="line">アップグレードを実施します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-number">リスト 3.7 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id28" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>~/exastro-docker-compose/ita_ag_oase
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-number">リスト 3.8 </span><span class="caption-text">docker コマンドを利用する場合(Docker環境)</span><a class="headerlink" href="#id29" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--wait
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-number">リスト 3.9 </span><span class="caption-text">docker-compose コマンドを利用する場合(Podman環境)</span><a class="headerlink" href="#id30" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span>--wait
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="id15">
<h2><span class="section-number">3.7. </span>アンインストール<a class="headerlink" href="#id15" title="この見出しへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">Exastro OASE Agentのアンインストール方法について紹介します。</div>
</div>
<section id="id16">
<h3><span class="section-number">3.7.1. </span>アンインストールの準備<a class="headerlink" href="#id16" title="この見出しへのパーマリンク">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<div class="line-block">
<div class="line">アンインストール実施前に、バックアップを取得しておくことを推奨します。</div>
<div class="line">バックアップ対象は <code class="file docutils literal notranslate"><span class="pre">~/exastro-docker-compose/ita_ag_oase/.volumes/</span></code> です。</div>
</div>
</div>
</section>
<section id="id17">
<h3><span class="section-number">3.7.2. </span>アンインストール<a class="headerlink" href="#id17" title="この見出しへのパーマリンク">¶</a></h3>
<section id="id18">
<h4><span class="section-number">3.7.2.1. </span>アンインストール実施<a class="headerlink" href="#id18" title="この見出しへのパーマリンク">¶</a></h4>
<div class="line-block">
<div class="line">アンインストールを実施します。</div>
</div>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-number">リスト 3.10 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id31" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>~/exastro-docker-compose/ita_ag_oase
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-number">リスト 3.11 </span><span class="caption-text">docker コマンドを利用する場合(Docker環境)</span><a class="headerlink" href="#id32" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># コンテナのみ削除する場合</span>
docker<span class="w"> </span>compose<span class="w"> </span>down

<span class="c1"># コンテナ＋コンテナイメージ＋ボリュームを削除する場合</span>
docker<span class="w"> </span>compose<span class="w"> </span>down<span class="w"> </span>--rmi<span class="w"> </span>all<span class="w"> </span>--volumes
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-number">リスト 3.12 </span><span class="caption-text">docker-compose コマンドを利用する場合(Podman環境)</span><a class="headerlink" href="#id33" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># コンテナのみ削除する場合</span>
docker-compose<span class="w"> </span>down

<span class="c1"># コンテナ＋コンテナイメージ＋ボリュームを削除する場合</span>
docker-compose<span class="w"> </span>down<span class="w"> </span>--rmi<span class="w"> </span>all<span class="w"> </span>--volumes
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-number">リスト 3.13 </span><span class="caption-text">コマンド</span><a class="headerlink" href="#id34" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># データを削除する場合</span>
rm<span class="w"> </span>-rf<span class="w"> </span>~/exastro-docker-compose/ita_ag_oase/.volumes/storage/*
</pre></div>
</div>
</div>
</section>
</section>
</section>
</section>


</div>


<div id="articleNavigation">
  <ul>
    <li class="prev"><a href="helm_on_kubernetes.html" title="前のトピックへ"><span>前のトピックへ</span><span class="section-number">2. </span>Helm chart (Kubernetes)</a></li>
    <li class="next"><a href="oase_agent_kubernetes.html" title="次のトピックへ"><span>次のトピックへ</span><span class="section-number">4. </span>OASE Agent (Kubernetes)</a></li>
  </ul>
</div>


<div id="pageTopLink">
  <a href="#container"><i>↑</i> Page Top</a>
</div>

</article>
</div>
</main>
</div><!-- End #contents -->
<div id="footer">
  <footer class="divInner">
    <small>Copyright © 2019-2023 NEC Corporation</small>
    <small><a href="/terms/ja.html">サイト規約</a></small>
  </footer>
</div><!-- End #footer -->

<div id="overlay"></div>
<div id="grayBack"></div>

</div><!-- End #container -->
  </body>
</html>